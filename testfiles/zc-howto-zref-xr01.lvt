\documentclass{article}

\input{regression-test}

\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

% Ensure the same font across check engines
\usepackage[OT1]{fontenc}
\renewcommand\rmdefault{cmr}
\renewcommand\sfdefault{cmss}
\renewcommand\ttdefault{cmtt}

\newcommand{\testtmp}{}

% This is the .aux file generated by the 'documentB.tex' in the how to.
\begin{filecontents*}[nosearch]{documentB.aux}
\relax
\providecommand\zref@newlabel[2]{}
\providecommand\hyper@newdestlabel[2]{}
\providecommand\HyperFirstAtBeginDocument{\AtBeginDocument}
\HyperFirstAtBeginDocument{\ifx\hyper@anchor\@undefined
\global\let\oldcontentsline\contentsline
\gdef\contentsline#1#2#3#4{\oldcontentsline{#1}{#2}{#3}}
\global\let\oldnewlabel\newlabel
\gdef\newlabel#1#2{\newlabelxx{#1}#2}
\gdef\newlabelxx#1#2#3#4#5#6{\oldnewlabel{#1}{{#2}{#3}}}
\AtEndDocument{\ifx\hyper@anchor\@undefined
\let\contentsline\oldcontentsline
\let\newlabel\oldnewlabel
\fi}
\fi}
\global\let\hyper@last\relax
\gdef\HyperFirstAtBeginDocument#1{#1}
\providecommand\HyField@AuxAddToFields[1]{}
\providecommand\HyField@AuxAddToCoFields[2]{}
\@writefile{toc}{\contentsline {section}{\numberline {1}Section B1}{1}{section.1}\protected@file@percent }
\zref@newlabel{sec:section-b1}{\default{1}\page{1}\abspage{1}\zc@counter{section}\thecounter{1}\zc@type{section}\zc@cntval{1}\zc@pgval{1}\zc@enclval{}\zc@pgfmt{1}\anchor{section.1}}
\gdef \@abspage@last{1}
\end{filecontents*}

\usepackage{zref-clever}

\ExplSyntaxOn
\bool_set_true:N \l__zrefclever_verbose_testing_bool
\ExplSyntaxOff

\usepackage{zref-xr}
\zexternaldocument[B-]{documentB}

\usepackage{hyperref}

\begin{document}

\section{Section A1}
\zlabel{sec:section-a1}

\START

\renewcommand{\testtmp}{%
  \zcref{sec:section-a1,B-sec:section-b1}}
\setbox0=\hbox{\testtmp}
\showbox0
\box0

\OMIT

\end{document}
